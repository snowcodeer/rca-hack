<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Solar System Model</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Trispace:wght@200;500;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style.scss" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  </head>
  <body>
    <div id="loading">
      <div id="welcome">
        <h1>Solar System Model</h1>
        <p>
          <span id="createdBy">created by</span>
          <span id="name">Kyle Gough</span>
        </p>
        <div id="loader-progress">
          <div id="loader-text">
            Loading...
          </div>
          <div id="loader-percentage">
            0%
          </div>
        </div>
        <div id="loader">
          <div id="loader-circle">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              style="enable-background: new 0 0 512 512"
              xml:space="preserve"
            >
              <circle style="fill: #fff5b1" cx="256" cy="256" r="153.921" />
              <circle style="fill: #ffeb64" cx="256" cy="256" r="102.614" />
              <path
                d="M256 145.37c-61.002 0-110.63 49.629-110.63 110.63S194.998 366.63 256 366.63 366.63 317.002 366.63 256 317.002 145.37 256 145.37zm0 205.227c-52.161 0-94.597-42.436-94.597-94.597s42.436-94.597 94.597-94.597 94.597 42.436 94.597 94.597-42.436 94.597-94.597 94.597zM67.34 256a8.017 8.017 0 0 0-8.017-8.017H8.017a8.017 8.017 0 0 0 0 16.034h51.307A8.017 8.017 0 0 0 67.34 256zM147.539 353.123l-60.465 60.465a8.016 8.016 0 0 0 0 11.337 7.988 7.988 0 0 0 5.668 2.348 7.988 7.988 0 0 0 5.668-2.348l60.465-60.465a8.016 8.016 0 0 0 0-11.337 8.015 8.015 0 0 0-11.336 0zM413.589 87.074l-60.465 60.465a8.016 8.016 0 0 0 0 11.337 7.988 7.988 0 0 0 5.668 2.348 7.988 7.988 0 0 0 5.668-2.348l60.465-60.465a8.016 8.016 0 0 0 0-11.337 8.013 8.013 0 0 0-11.336 0zM393.353 256a8.017 8.017 0 0 0 8.017 8.017h17.102a8.017 8.017 0 0 0 0-16.034H401.37a8.017 8.017 0 0 0-8.017 8.017zM118.647 256a8.017 8.017 0 0 0-8.017-8.017H93.528a8.017 8.017 0 0 0 0 16.034h17.102a8.017 8.017 0 0 0 8.017-8.017zM503.983 247.983h-51.307a8.017 8.017 0 0 0 0 16.034h51.307a8.017 8.017 0 0 0 0-16.034zM256 118.647a8.017 8.017 0 0 0 8.017-8.017V93.528a8.017 8.017 0 0 0-16.034 0v17.102a8.017 8.017 0 0 0 8.017 8.017zM256 67.34a8.017 8.017 0 0 0 8.017-8.017V8.017a8.017 8.017 0 0 0-16.034 0v51.307A8.017 8.017 0 0 0 256 67.34zM256 393.353a8.017 8.017 0 0 0-8.017 8.017v17.102a8.017 8.017 0 0 0 16.034 0V401.37a8.017 8.017 0 0 0-8.017-8.017zM256 444.66a8.017 8.017 0 0 0-8.017 8.017v51.307a8.017 8.017 0 0 0 16.034 0v-51.307A8.017 8.017 0 0 0 256 444.66zM147.539 158.877a7.988 7.988 0 0 0 5.668 2.348 7.988 7.988 0 0 0 5.668-2.348 8.016 8.016 0 0 0 0-11.337L98.411 87.074a8.014 8.014 0 0 0-11.337 0 8.016 8.016 0 0 0 0 11.337l60.465 60.466zM364.461 353.123a8.016 8.016 0 0 0-11.337 0 8.016 8.016 0 0 0 0 11.337l60.465 60.465c1.565 1.566 3.617 2.348 5.668 2.348s4.103-.782 5.668-2.348a8.016 8.016 0 0 0 0-11.337l-60.464-60.465zM105.898 326.194a8 8 0 0 0 3.065-.612l15.8-6.545a8.016 8.016 0 1 0-6.135-14.813l-15.8 6.545a8.016 8.016 0 0 0-4.339 10.474 8.017 8.017 0 0 0 7.409 4.951zM71.227 323.858l-15.8 6.545a8.016 8.016 0 1 0 6.136 14.813l15.8-6.545a8.016 8.016 0 1 0-6.136-14.813zM437.709 188.754a8.018 8.018 0 0 0 3.065-.611l15.8-6.545a8.017 8.017 0 0 0-6.135-14.813l-15.8 6.545a8.016 8.016 0 0 0-4.339 10.474 8.016 8.016 0 0 0 7.409 4.95zM403.037 186.418l-15.8 6.545a8.016 8.016 0 0 0-4.339 10.474 8.018 8.018 0 0 0 10.475 4.339l15.8-6.545a8.018 8.018 0 0 0-6.136-14.813zM186.418 108.963l6.545 15.8a8.02 8.02 0 0 0 7.41 4.951 8.016 8.016 0 0 0 7.404-11.086l-6.545-15.8a8.015 8.015 0 0 0-10.474-4.339 8.016 8.016 0 0 0-4.34 10.474zM173.329 77.362a8.019 8.019 0 0 0 10.475 4.339 8.016 8.016 0 0 0 4.339-10.474l-6.545-15.8a8.017 8.017 0 0 0-14.813 6.135l6.544 15.8zM338.671 434.638a8.016 8.016 0 0 0-10.474-4.339 8.016 8.016 0 0 0-4.339 10.474l6.545 15.8a8.02 8.02 0 0 0 7.41 4.951 8.016 8.016 0 0 0 7.404-11.086l-6.546-15.8zM325.582 403.037l-6.545-15.8a8.017 8.017 0 0 0-14.813 6.135l6.545 15.8a8.019 8.019 0 0 0 10.475 4.339 8.017 8.017 0 0 0 4.338-10.474zM124.764 192.963l-15.8-6.545a8.016 8.016 0 0 0-10.474 4.339 8.016 8.016 0 0 0 4.339 10.474l15.8 6.545a7.985 7.985 0 0 0 3.065.612 8.02 8.02 0 0 0 7.41-4.951 8.019 8.019 0 0 0-4.34-10.474zM77.362 173.329l-15.8-6.545c-4.092-1.694-8.78.248-10.474 4.339s.248 8.78 4.339 10.474l15.8 6.545a8.02 8.02 0 0 0 10.475-4.34 8.016 8.016 0 0 0-4.34-10.473zM456.574 330.402l-15.8-6.545a8.016 8.016 0 0 0-10.474 4.34 8.016 8.016 0 0 0 4.339 10.474l15.8 6.545a7.989 7.989 0 0 0 3.065.612 8.02 8.02 0 0 0 7.41-4.951 8.02 8.02 0 0 0-4.34-10.475zM387.236 319.037l15.8 6.545a7.985 7.985 0 0 0 3.065.612 8.02 8.02 0 0 0 7.41-4.951 8.016 8.016 0 0 0-4.339-10.474l-15.8-6.545a8.017 8.017 0 0 0-6.136 14.813zM308.563 129.102a7.985 7.985 0 0 0 3.065.612 8.02 8.02 0 0 0 7.41-4.951l6.545-15.8a8.016 8.016 0 0 0-4.339-10.474 8.015 8.015 0 0 0-10.474 4.339l-6.545 15.8a8.015 8.015 0 0 0 4.338 10.474zM328.196 81.701a8.019 8.019 0 0 0 10.475-4.339l6.545-15.8a8.016 8.016 0 1 0-14.813-6.135l-6.545 15.8a8.017 8.017 0 0 0 4.338 10.474zM183.804 430.299a8.016 8.016 0 0 0-10.474 4.339l-6.545 15.8a8.016 8.016 0 0 0 7.404 11.086 8.02 8.02 0 0 0 7.41-4.951l6.545-15.8a8.02 8.02 0 0 0-4.34-10.474zM203.437 382.898a8.015 8.015 0 0 0-10.474 4.339l-6.545 15.8a8.016 8.016 0 0 0 7.404 11.086 8.02 8.02 0 0 0 7.41-4.951l6.545-15.8a8.017 8.017 0 0 0-4.34-10.474z"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>
    <canvas class="webgl"></canvas>
    <div class="btn-group">
      <a
        id="btn-github"
        href="https://github.com/KyleGough/solar-system"
        target="_blank"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="M9.293 16.707 4.586 12l4.707-4.707 1.414 1.414L7.414 12l3.293 3.293-1.414 1.414zM14.707 16.707l-1.414-1.414L16.586 12l-3.293-3.293 1.414-1.414L19.414 12l-4.707 4.707z"
            />
          </g>
        </svg>
      </a>
      <button id="btn-ambient">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="M12 16a4 4 0 1 1 4-4 4 4 0 0 1-4 4zm0-6a2 2 0 1 0 2 2 2 2 0 0 0-2-2zM11 5h2v2h-2zM11 17h2v2h-2zM17 11h2v2h-2zM5 11h2v2H5zM6 7h2v2H6zM16 7h2v2h-2zM6 15h2v2H6zM16 15h2v2h-2z"
            />
          </g>
        </svg>
      </button>
      <button id="btn-labels">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="m12 19.414-.707-.707C10.751 18.166 6 13.318 6 10a6 6 0 0 1 12 0c0 3.318-4.751 8.166-5.293 8.707zM12 6a4 4 0 0 0-4 4c0 1.654 2.225 4.622 4 6.553 1.774-1.933 4-4.9 4-6.553a4 4 0 0 0-4-4z"
            />
            <path d="M11 8h2v2h-2z" />
          </g>
        </svg>
      </button>
      <button id="btn-paths">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="m7.091 16.91 1.964-7.856 7.854-1.964-1.964 7.856zM10.7 10.7l-.864 3.457L13.3 13.3l.864-3.457z"
            />
            <path d="m9.171 10.586 1.414-1.414 4.242 4.242-1.414 1.414z" />
          </g>
        </svg>
      </button>
      <button id="btn-hand-toggle" title="Toggle Hand Controls">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="M9 7c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm3 8c-.6 0-1.1-.4-1.4-.9l-1.5-3c-.4-.8.1-1.7 1-1.6h4.8c.9-.1 1.4.8 1 1.6l-1.5 3c-.3.5-.8.9-1.4.9zm-1-2h2l1-2h-4l1 2zm6 4l-2.5-2.5c-.4-.4-.4-1 0-1.4s1-.4 1.4 0L18 14.2c.4.4.4 1 0 1.4s-1 .4-1.4 0L15 14zm-6 3c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"
            />
          </g>
        </svg>
      </button>
      <button id="btn-hand-debug" title="Show Hand Debug View">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="M12 8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"
            />
            <path
              d="M5 12h2v2H5zM9 6h2v2H9zM13 6h2v2h-2zM17 12h2v2h-2zM9 16h2v2H9zM13 16h2v2h-2z"
            />
          </g>
        </svg>
      </button>
      <button id="btn-hand-calibrate" title="Calibrate Neutral Hand Position">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="M12 18a6 6 0 1 1 6-6 6.007 6.007 0 0 1-6 6zm0-10a4 4 0 1 0 4 4 4 4 0 0 0-4-4z"
            />
            <path d="M11 10h2v4h-2zM10 11h4v2h-4z" />
          </g>
        </svg>
      </button>
      <button id="btn-settings">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <g>
            <path
              d="M12 24a12 12 0 1 1 12-12 12.013 12.013 0 0 1-12 12zm0-22a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2z"
            />
            <path
              d="M12 17a5 5 0 1 1 5-5 5.006 5.006 0 0 1-5 5zm0-8a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"
            />
            <path
              d="M11 5h2v3h-2zM11 16h2v3h-2zM16 11h3v2h-3zM5 11h3v2H5zM14.293 8.293l2-2 1.414 1.414-2 2zM6.293 7.707l1.414-1.414 2 2-1.415 1.414zM6.293 16.293l2-2 1.414 1.414-2 2zM14.293 15.707l1.415-1.414 2 2-1.415 1.414z"
            />
          </g>
        </svg>
      </button>
    </div>
    <div class="caption">
      <button id="btn-previous">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
          <path
            d="M10 20A10 10 0 1 0 0 10a10 10 0 0 0 10 10zm1.289-15.7 1.422 1.4-4.3 4.344 4.289 4.245-1.4 1.422-5.714-5.648z"
          />
        </svg>
      </button>
      <p>Sun</p>
      <button id="btn-next">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">
          <path
            d="M10 20A10 10 0 1 0 0 10a10 10 0 0 0 10 10zM8.711 4.3l5.7 5.766L8.7 15.711l-1.4-1.422 4.289-4.242-4.3-4.347z"
          />
        </svg>
      </button>
    </div>
    
    <!-- Camera permission request -->
    <div id="camera-permission-modal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; z-index: 2000; align-items: center; justify-content: center;">
      <div style="background: white; padding: 30px; border-radius: 10px; text-align: center; max-width: 400px; margin: 20px;">
        <h2 style="margin: 0 0 15px 0; color: #333;">🖐️ Enable Hand Controls</h2>
        <p style="margin: 0 0 20px 0; color: #666; line-height: 1.5;">
          To use hand gesture controls, we need access to your camera. 
          Your video is processed locally and never sent anywhere.
        </p>
        <div style="display: flex; gap: 10px; justify-content: center;">
          <button id="btn-request-camera" style="background: #4CAF50; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; font-size: 16px;">
            📷 Allow Camera
          </button>
          <button id="btn-skip-camera" style="background: #757575; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; font-size: 16px;">
            Skip for Now
          </button>
        </div>
        <p style="margin: 15px 0 0 0; font-size: 12px; color: #999;">
          You can enable hand controls later using the hand button in the toolbar.
        </p>
      </div>
    </div>

    <!-- Hand tracking status indicator -->
    <div id="hand-status" style="position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.7); color: white; padding: 10px; border-radius: 5px; font-family: monospace; display: none; z-index: 1001;">
      <div id="hand-status-title">✋ Hand Tracking</div>
      <div id="hand-status-camera">📷 Camera: <span id="camera-status">Initializing...</span></div>
      <div id="hand-status-hands">👆 Hands: <span id="hands-count">0</span></div>
      <div id="hand-status-gestures">🤏 Gesture: <span id="gesture-status">None</span></div>
    </div>

    <!-- Hand controls help -->
    <div id="hand-help" style="position: absolute; bottom: 20px; left: 20px; background: rgba(0,0,0,0.8); color: white; padding: 15px; border-radius: 8px; font-family: Arial, sans-serif; max-width: 300px; display: none; z-index: 1001;">
      <h3 style="margin: 0 0 10px 0; color: #4CAF50;">🖐️ Hand Controls</h3>
      <div style="margin-bottom: 8px;"><strong>🤏 Pinch:</strong> Zoom in/out</div>
      <div style="margin-bottom: 8px;"><strong>✋ Rotate Palm:</strong> Orbit left/right</div>
      <div style="margin-bottom: 8px;"><strong>🫴 Tilt Hand:</strong> Orbit up/down</div>
      <div style="margin-bottom: 8px;"><strong>🛑 Keep Still:</strong> No camera movement</div>
      <div style="font-size: 12px; color: #ccc; margin-top: 10px;">Move your hand to control the camera. Keep still to stop movement.</div>
    </div>

    <script type="module" src="./script.ts"></script>
  </body>
</html>
